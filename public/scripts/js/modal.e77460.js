"use strict";class e{constructor(){this.triggers=document.querySelectorAll(".js-modal"),this.close=document.querySelectorAll(".js-close-modal"),this.modals=document.querySelectorAll(".modal"),this.modalInners=document.querySelectorAll(".modal-inner"),this.listeners()}listeners(){window.addEventListener("keydown",this.keyDown),this.triggers.forEach((e=>{e.addEventListener("click",this.openModal,!1)})),this.modals.forEach((e=>{e.addEventListener("transitionend",this.revealModal,!1),e.addEventListener("click",this.backdropClose,!1)})),this.close.forEach((t=>{t.addEventListener("click",e.hideModal,!1)})),this.modalInners.forEach((e=>{e.addEventListener("transitionend",this.closeModal,!1)}))}keyDown(t){27===t.keyCode&&document.body.classList.contains("modal-body")&&e.hideModal()}backdropClose(t){if(!t.target.classList.contains("modal-visible"))return;!0===(void 0===t.currentTarget.dataset.backdrop||t.currentTarget.dataset.backdrop)&&e.hideModal()}static hideModal(){document.querySelector(".modal.modal-visible").querySelector(".modal-inner").classList.remove("modal-reveal"),document.querySelector(".modal-body").addEventListener("transitionend",e.modalBody,!1),document.body.classList.add("modal-fadeOut")}closeModal(e){"opacity"!==e.propertyName||e.target.classList.contains("modal-reveal")||document.querySelector(".modal.modal-visible").classList.remove("modal-visible")}openModal(e){if(!e.currentTarget.dataset.modal)return void console.error("No data-modal attribute defined!");let t=e.currentTarget.dataset.modal,o=document.getElementById(t);document.body.classList.add("modal-body"),o.classList.add("modal-visible")}revealModal(e){"opacity"===e.propertyName&&e.target.classList.contains("modal-visible")&&e.target.querySelector(".modal-inner").classList.add("modal-reveal")}static modalBody(e){"opacity"===e.propertyName&&e.target.classList.contains("modal")&&!e.target.classList.contains("modal-visible")&&document.body.classList.remove("modal-body","modal-fadeOut")}}new e;